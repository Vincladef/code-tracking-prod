<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Habitudes &amp; Pratique</title>
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üî•</text></svg>">
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      /* Pastels par section (par d√©faut = daily / bleu doux) */
      --accent-50:  #ECF7FF;
      --accent-200: #CFEBFF;
      --accent-400: #9FD7FF;
      --accent-600: #60BFFD;
      --accent-700: #3EA6EB;

      --card-bg: #ffffff;
      --page-bg: #F6F7FB;
      --text:    #334155; /* slate-700 */
      --muted:   #94A3B8; /* slate-400 */
      --ring:    var(--accent-400);
    }
    /* Pratique = vert doux */
    [data-section="practice"]{
      --accent-50:#F1FBF4; --accent-200:#D8F3E0; --accent-400:#BEE6C8; --accent-600:#8ED6A2; --accent-700:#63C582;
    }
    /* Objectifs = violet doux */
    [data-section="goals"]{
      --accent-50:#F7F3FF; --accent-200:#E9DFFF; --accent-400:#E3D0FF; --accent-600:#C7A7FF; --accent-700:#A884FF;
    }

    body { font-family: 'Inter', ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif; }
    body{ background:var(--page-bg); color:var(--text); }

    /* Cards blanches, coins 2xl, ombre douce */
    .card{ background:var(--card-bg); border:1px solid #E5E7EB; border-radius:1rem; box-shadow: 0 8px 24px rgba(16,24,40,.06); }

    /* Champs clairs + anneau pastel */
    input, textarea, select{
      background:#fff; border:1px solid #E5E7EB; color:var(--text); border-radius:.75rem; padding:.625rem .75rem;
    }
    input:focus, textarea:focus, select:focus{ outline:none; border-color:var(--ring); box-shadow:0 0 0 3px var(--accent-50); }

    /* Onglets (pills) + √©tat actif color√© */
    .tabs{ display:flex; gap:.5rem; align-items:center; overflow-x:auto; flex-wrap:nowrap; -webkit-overflow-scrolling:touch; }
    .tabs::-webkit-scrollbar{ display:none; }
    .tab{ border:1px solid #E5E7EB; background:#fff; border-radius:999px; padding:.5rem .875rem; font-size:.9rem; display:inline-flex; gap:.5rem; align-items:center; white-space:nowrap; flex:0 0 auto; }
    .tab[aria-current="page"]{ background:var(--accent-50); border-color:var(--accent-400); color:#0B4B66; }

    /* Boutons */
    .btn{ border-radius:.75rem; padding:.625rem 1rem; font-weight:600; }
    .btn-primary{ background:var(--accent-600); color:#fff; }
    .btn-primary:hover{ background:var(--accent-700); }
    .btn-ghost{ background:transparent; border:1px solid var(--accent-200); color:#334155; }
    .btn-ghost:hover{ background:var(--accent-50); }

    /* Animation de changement d‚Äôonglet */
    @keyframes fadeSlideIn{ from{ opacity:0; transform:translateY(6px);} to{ opacity:1; transform:translateY(0);} }
    .route-enter{ animation: fadeSlideIn .25s ease-out; }

    /* Sidebar cach√©e par d√©faut (mode admin != user) */
    #sidebar{ display:none; }

    /* Titre un peu plus petit sur mobile */
    @media (max-width: 640px){
      header h1{ font-size:1rem; }
    }

    /* utilitaire pour masquer la scrollbar (d√©j√† utilis√© ci-dessus) */
    .no-scrollbar::-webkit-scrollbar{ display:none; }
    .no-scrollbar{ -ms-overflow-style:none; scrollbar-width:none; }

    /* Boutons de jours (Journalier) */
    .day-btn[data-today="1"] {
      /* l√©ger surlignage si ce n'est pas le jour s√©lectionn√© */
      box-shadow: inset 0 0 0 2px var(--accent-200);
    }

    /* Pastilles de priorit√© */
    .prio-chip { 
      display:inline-flex; align-items:center; gap:.4rem;
      padding:.15rem .5rem; border-radius:999px;
      font-size:.75rem; border:1px solid transparent;
    }
    .prio-high   { background:#FEE2E2; border-color:#FCA5A5; color:#B91C1C; } /* rouge doux */
    .prio-medium { background:#FEF3C7; border-color:#FCD34D; color:#92400E; } /* ambre doux */
    .prio-low    { background:#E0F2FE; border-color:#BAE6FD; color:#075985; } /* bleu doux */

    .btn-saved{ background:#22C55E; } /* vert doux rapide pour le flash */
  </style>
</head>
<body class="min-h-screen">
  <div class="flex min-h-screen flex-col">
    <header class="border-b border-gray-200 bg-white">
      <div class="mx-auto w-full max-w-5xl px-4 py-4
            flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between">
        <h1 class="text-lg sm:text-xl font-semibold">
          Habitudes &amp; Pratique
          <span id="user-badge" style="margin-left:.5rem;color:#94a3b8;font-weight:600;">
            ‚Äî <span data-username>‚Ä¶</span>
          </span>
        </h1>
        <nav class="tabs w-full sm:w-auto overflow-x-auto no-scrollbar">
          <button class="tab" data-route="#/daily"><span>üìÖ</span><span>Journalier</span></button>
          <button class="tab" data-route="#/practice"><span>‚ö°</span><span>Pratique</span></button>
          <button class="tab" data-route="#/goals"><span>üéØ</span><span>Objectifs</span></button>
        </nav>
      </div>
    </header>

    <main class="flex-1">
      <div class="mx-auto flex w-full max-w-5xl flex-col gap-4 px-4 py-6">
        <aside id="sidebar"></aside>
        <div id="view-root">Chargement‚Ä¶</div>
      </div>
    </main>

    <footer class="border-t border-gray-200 py-6 text-center text-sm text-[var(--muted)]">
      &copy; Habitudes &amp; Pratique
    </footer>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getFirestore } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";
    import { startRouter } from "./app.js";

    const cfg = {
      apiKey: "AIzaSyAQcvZ9a2j4MHF04RjMHIey0R_iwnjZf4o",
      authDomain: "tracking-d-habitudes.firebaseapp.com",
      projectId: "tracking-d-habitudes",
      storageBucket: "tracking-d-habitudes.firebasestorage.app",
      messagingSenderId: "739389871966",
      appId: "1:739389871966:web:684e26dbdfb0c0a69221cf",
      measurementId: "G-ZPHWB5DKWF"
    };
    const app = initializeApp(cfg);
    const db = getFirestore(app);
    startRouter(app, db);
  </script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
</body>
</html>
